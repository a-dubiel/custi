function checkPagination(){jQuery("nav.pagination").length>0&&(pagination="")}function pageLoaderInit(){jQuery(document).on("click",triggers,function(e){this.blur();var t=this.title||this.name||"",n=this.rel||!1,a=jQuery(this).data("count");return 1==a&&1==ajax_layered_nav.search_page_redirect?window.location.href=jQuery(this).data("link"):loadPage(jQuery(this).data("link")),e.preventDefault(),!1})}function getHTTPObject(){var e;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("MSXML2.XMLHTTP.3.0")),e}function loadPage(e,t){if(!isWorking){if(nohttp=e.replace("http://","").replace("https://",""),firstsla=nohttp.indexOf("/"),pathpos=e.indexOf(nohttp),path=e.substring(pathpos+firstsla),1!=t){var n={foo:1e3+1001*Math.random()};navigator.userAgent.match(/msie/i)||history.pushState(n,"ajax page loaded...",path)}jQuery.each(content,function(t,n){if(n==ajax_layered_nav.product_container){var a=0;a=jQuery(ajax_layered_nav.product_container).outerHeight(),jQuery(n+"").fadeOut("fast",function(){jQuery(n).html('<div class="products-loading"><i class="fa fa-circle-o-notch fa-spin fa-5x"></i></div>'),jQuery(n).fadeIn("slow")})}http.open("GET",e,!0),isWorking=!0,http.onreadystatechange=showPage,http.send(null)})}return!1}function showPage(){return 4==http.readyState&&200==http.status?(isWorking=!1,elements_to_remove=[],elements_to_remove=content.slice(),1==ajax_layered_nav.scrolltop&&jQuery(ajax_layered_nav.product_container).size()>0&&jQuery("html").animate({scrollTop:jQuery(ajax_layered_nav.product_container).offset().top-ajax_layered_nav.offset},"slow"),jQuery.each(content,function(e,t){var n=http.responseText;jQuery(t).each(function(){if(""!=this.id){var e="#"+this.id;if(jQuery(e,n).size()>0){var a=1,r="";jQuery(e).fadeOut("fast",function(){jQuery(e).html(jQuery(e,n).html()),jQuery(e).fadeIn(1),1==DocReadyReload&&$(document).trigger("ready")})}else jQuery.each(elements_to_remove,function(e,t){jQuery(t).empty()})}else if(jQuery(t,n).size()>0){var a=1,r="";jQuery(t).fadeOut("fast",function(){jQuery(t).html(function(){if("undefined"!=typeof infinite_scroll&&!navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var e=jQuery(ajax_layered_nav.contentSelector);e.infinitescroll("destroy"),e.infinitescroll("reset"),e.infinitescroll("binding","unbind"),e.data("infinitescroll",null),jQuery(window).unbind(".infscr"),init_infinite_scroll(e),e.infinitescroll("bind")}return jQuery(t,n).html()}),jQuery(t).fadeIn(1),1==DocReadyReload&&$(document).trigger("ready")})}else jQuery.each(elements_to_remove,function(e,t){jQuery(t).empty()})})}),pageLoaderInit(),!1):!1}function init_infinite_scroll(e){e.infinitescroll({loading:{msgText:"Loading the next set of products...",finishedMsg:"All products loaded.",img:ajax_layered_nav.superstore_img},contentSelector:ajax_layered_nav.contentSelector,itemSelector:ajax_layered_nav.itemSelector,navSelector:ajax_layered_nav.navSelector,nextSelector:ajax_layered_nav.nextSelector,debug:!1,state:{isDestroyed:!1,isDone:!1}})}var content=ajax_layered_nav.containers,orderby=ajax_layered_nav.orderby,triggers=ajax_layered_nav.triggers.join(","),elements_to_remove=new Array,DocReadyReload=!1,isWorking=!1,http=getHTTPObject(),pagination;jQuery(document).ready(function(){pageLoaderInit(),jQuery(document).on("change",orderby+" select",function(){return jQuery(orderby).submit(),!1})}),window.onpopstate=function(e){void 0!=e.state&&loadPage(document.location.toString(),1)},Array.prototype.removeByValue=function(e){for(var t=0;t<this.length;t++)if(this[t]==e){this.splice(t,1);break}};