function updateViewportDimensions(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||o.clientWidth,a=e.innerHeight||n.clientHeight||o.clientHeight;return{width:i,height:a}}function loadGravatars(){viewport=updateViewportDimensions(),viewport.width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}function stickySidebar(){if(jQuery(".shop-sidebar-wrapper").length){var e=jQuery(".shop-sidebar-wrapper").offset().top;jQuery(window).scroll(function(t){var n=jQuery(this).scrollTop();n>=e?jQuery(".shop-sidebar-wrapper").addClass("fixed"):jQuery(".shop-sidebar-wrapper").removeClass("fixed")})}}function hideNavs(){jQuery(".shop-sidebar").find("nav, .collapse").addClass("hide-list"),jQuery(".footer-wrap").addClass("with-padding")}function showNavs(){jQuery(".shop-sidebar").find("nav, .collapse").removeClass("hide-list"),jQuery(".footer-wrap").removeClass("with-padding")}function responsiveNav(){viewport=updateViewportDimensions(),waitForFinalEvent(function(){viewport.width>=768?(console.log("desktop"),jQuery(".shop-sidebar-wrapper").length&&(showNavs(),stickySidebar())):(console.log("mobile"),jQuery(".shop-sidebar-wrapper").length&&hideNavs())},timeToWaitForLast,"resize")}!function(e,t){"use strict";var n,o,i,a="._tap",r="._tapActive",s="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),c={count:0,event:0},d=function(e,n){var o=n.originalEvent,i=t.Event(o);i.type=e;for(var a=0,r=u.length;r>a;a++)i[u[a]]=n[u[a]];return i},p=function(e){if(e.isTrigger)return!1;var n=c.event,o=Math.abs(e.pageX-n.pageX),i=Math.abs(e.pageY-n.pageY),a=Math.max(o,i);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&a<t.tap.POSITION_DELTA&&(!n.touches||1===c.count)&&h.isTracking},v=function(e){if(!i)return!1;var n=Math.abs(e.pageX-i.pageX),o=Math.abs(e.pageY-i.pageY),a=Math.max(n,o);return Math.abs(e.timeStamp-i.timeStamp)<750&&a<t.tap.POSITION_DELTA},l=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,o=u.length;o>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},h={isEnabled:!1,isTracking:!1,enable:function(){h.isEnabled||(h.isEnabled=!0,n=t(e.body).on("touchstart"+a,h.onStart).on("mousedown"+a,h.onStart).on("click"+a,h.onClick))},disable:function(){h.isEnabled&&(h.isEnabled=!1,n.off(a))},onStart:function(e){e.isTrigger||(l(e),(!t.tap.LEFT_BUTTON_ONLY||e.touches||1===e.which)&&(e.touches&&(c.count=e.touches.length),h.isTracking||(e.touches||!v(e))&&(h.isTracking=!0,c.event=e,e.touches?(i=e,n.on("touchend"+a+r,h.onEnd).on("touchcancel"+a+r,h.onCancel)):n.on("mouseup"+a+r,h.onEnd))))},onEnd:function(e){var n;e.isTrigger||(l(e),p(e)&&(n=d(s,e),o=n,t(c.event.target).trigger(n)),h.onCancel(e))},onCancel:function(e){e&&"touchcancel"===e.type&&e.preventDefault(),h.isTracking=!1,n.off(r)},onClick:function(e){return!e.isTrigger&&o&&o.isDefaultPrevented()&&o.target===e.target&&o.pageX===e.pageX&&o.pageY===e.pageY&&e.timeStamp-o.timeStamp<750?(o=null,!1):void 0}};t(e).ready(h.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery),function($){$.fn.hoverIntent=function(e,t,n){var o={interval:100,sensitivity:6,timeout:0};o="object"==typeof e?$.extend(o,e):$.isFunction(t)?$.extend(o,{over:e,out:t,selector:n}):$.extend(o,{over:e,out:e,selector:t});var i,a,r,s,u=function(e){i=e.pageX,a=e.pageY},c=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.sqrt((r-i)*(r-i)+(s-a)*(s-a))<o.sensitivity?($(t).off("mousemove.hoverIntent",u),t.hoverIntent_s=!0,o.over.apply(t,[e])):(r=i,s=a,t.hoverIntent_t=setTimeout(function(){c(e,t)},o.interval),void 0)},d=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,o.out.apply(t,[e])},p=function(e){var t=$.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"===e.type?(r=t.pageX,s=t.pageY,$(n).on("mousemove.hoverIntent",u),n.hoverIntent_s||(n.hoverIntent_t=setTimeout(function(){c(t,n)},o.interval))):($(n).off("mousemove.hoverIntent",u),n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){d(t,n)},o.timeout)))};return this.on({"mouseenter.hoverIntent":p,"mouseleave.hoverIntent":p},o.selector)}}(jQuery);var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var e={};return function(t,n,o){o||(o="Don't call this twice without a uniqueId"),e[o]&&clearTimeout(e[o]),e[o]=setTimeout(t,n)}}(),timeToWaitForLast=100;jQuery(document).ready(function($){loadGravatars(),responsiveNav(),$(".js-header-search").click(function(e){$("#s").toggleClass("expanded"),e.preventDefault()}),$(".mobile-nav-icon").on("click",function(){var e=$(this);return e.hasClass("mobile-nav-active")?($(".js-mobile-nav").focusout(),e.removeClass("mobile-nav-active")):($(".js-mobile-nav").focus(),e.addClass("mobile-nav-active")),!1}),$(document).on("tap",".widgettitle",function(){var e=$(this),t=e.parent(),n=t.find("nav, .collapse");setTimeout(function(){t.toggleClass("nav-expanded"),n.toggleClass("hide-list")},500)}),$(".js-show-store-dropdown").hoverIntent({over:function(){$(".store-dropdown").addClass("expanded")},out:function(){$(".store-dropdown").removeClass("expanded")},timeout:700}),$(".js-show-more-info-dropdown").hoverIntent({over:function(){$(".more-info-dropdown").addClass("expanded")},out:function(){$(".more-info-dropdown").removeClass("expanded")},timeout:700}),$(".add_to_cart_button").on("click",function(){$(".shopping-cart-count").text(parseInt($(".shopping-cart-count").text())+1)}),$(window).resize(function(){responsiveNav()})});